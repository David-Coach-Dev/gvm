# ğŸ® SIMULACIÃ“N INTERACTIVA: InstalaciÃ³n Real de Dos Versiones de Go
Write-Host @"

â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â•â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•

             ğŸ¯ InstalaciÃ³n y Cambio Entre Go 1.21.0 y Go 1.22.0 ğŸ¯
                          SimulaciÃ³n de Experiencia Real

"@ -ForegroundColor Cyan

Write-Host "ğŸ¬ ESCENARIO: Desarrollador que necesita usar dos versiones de Go" -ForegroundColor Yellow
Write-Host "=" * 80 -ForegroundColor DarkGray

# Crear directorios de simulaciÃ³n
$baseDir = "$env:LOCALAPPDATA\gvm-demo"
$versionsDir = "$baseDir\versions"
$binDir = "$baseDir\bin"

Write-Host "`nğŸ—ï¸  PASO 1: Preparando estructura de versiones" -ForegroundColor Green
New-Item -ItemType Directory -Path "$versionsDir\1.21.0" -Force | Out-Null
New-Item -ItemType Directory -Path "$versionsDir\1.22.0" -Force | Out-Null
New-Item -ItemType Directory -Path $binDir -Force | Out-Null
Write-Host "   âœ… Estructura creada en: $baseDir" -ForegroundColor White

# Simular instalaciÃ³n de Go 1.21.0
Write-Host "`n1ï¸âƒ£  INSTALANDO GO 1.21.0" -ForegroundColor Green
Write-Host "   ğŸ‘¤ Usuario ejecuta: gvm install 1.21.0" -ForegroundColor DarkGray

Write-Host "   ğŸ”„ Descargando Go 1.21.0..." -ForegroundColor Yellow
Start-Sleep -Milliseconds 800
Write-Host "   ğŸ“¦ URL: https://golang.org/dl/go1.21.0.windows-amd64.zip" -ForegroundColor Cyan
Start-Sleep -Milliseconds 500
Write-Host "   ğŸ’¾ Descargando 134.3 MB..." -ForegroundColor Cyan
Start-Sleep -Milliseconds 1000

# Simular descarga con barra de progreso
for ($i = 1; $i -le 5; $i++) {
    $percent = $i * 20
    Write-Host "   ğŸ“Š Progreso: $percent% [$('â–ˆ' * $i)$(' ' * (5-$i))]" -ForegroundColor Green
    Start-Sleep -Milliseconds 300
}

Write-Host "   ğŸ“ Extrayendo en: $versionsDir\1.21.0" -ForegroundColor Cyan
Start-Sleep -Milliseconds 600

# Crear archivos de simulaciÃ³n para Go 1.21.0
@'
@echo off
echo go version go1.21.0 windows/amd64
'@ | Out-File "$versionsDir\1.21.0\go.exe" -Encoding ascii

Write-Host "   ğŸ”— Configurando enlaces simbÃ³licos..." -ForegroundColor Cyan
Start-Sleep -Milliseconds 400
Write-Host "   âœ… Go 1.21.0 instalado exitosamente" -ForegroundColor Green

# Activar Go 1.21.0
Write-Host "`n2ï¸âƒ£  ACTIVANDO GO 1.21.0" -ForegroundColor Green
Write-Host "   ğŸ‘¤ Usuario ejecuta: gvm use 1.21.0" -ForegroundColor DarkGray

Write-Host "   ğŸ”„ Cambiando a Go 1.21.0..." -ForegroundColor Yellow
Start-Sleep -Milliseconds 500
Write-Host "   ğŸ¯ GOROOT = $versionsDir\1.21.0" -ForegroundColor Cyan
Write-Host "   ğŸ”— Actualizando PATH..." -ForegroundColor Cyan
Start-Sleep -Milliseconds 400

# Copiar go.exe activo
Copy-Item "$versionsDir\1.21.0\go.exe" "$binDir\go.exe" -Force
Write-Host "   âœ… Ahora usando Go 1.21.0" -ForegroundColor Green

Write-Host "`n   ğŸ‘¤ Usuario verifica:" -ForegroundColor DarkGray
Write-Host "   $ go version" -ForegroundColor DarkGray
Write-Host "   go version go1.21.0 windows/amd64" -ForegroundColor Green

# Simular instalaciÃ³n de Go 1.22.0
Write-Host "`n3ï¸âƒ£  INSTALANDO GO 1.22.0" -ForegroundColor Green
Write-Host "   ğŸ‘¤ Usuario ejecuta: gvm install 1.22.0" -ForegroundColor DarkGray

Write-Host "   ğŸ”„ Descargando Go 1.22.0..." -ForegroundColor Yellow
Start-Sleep -Milliseconds 600
Write-Host "   ğŸ“¦ URL: https://golang.org/dl/go1.22.0.windows-amd64.zip" -ForegroundColor Cyan
Start-Sleep -Milliseconds 400
Write-Host "   ğŸ’¾ Descargando 138.7 MB..." -ForegroundColor Cyan

# Barra de progreso mÃ¡s rÃ¡pida para la segunda
for ($i = 1; $i -le 3; $i++) {
    $percent = $i * 33
    Write-Host "   ğŸ“Š Progreso: $percent% [$('â–ˆ' * $i)$(' ' * (3-$i))]" -ForegroundColor Green
    Start-Sleep -Milliseconds 200
}

Write-Host "   ğŸ“ Extrayendo en: $versionsDir\1.22.0" -ForegroundColor Cyan
Start-Sleep -Milliseconds 400

# Crear archivos de simulaciÃ³n para Go 1.22.0
@'
@echo off
echo go version go1.22.0 windows/amd64
'@ | Out-File "$versionsDir\1.22.0\go.exe" -Encoding ascii

Write-Host "   âœ… Go 1.22.0 instalado exitosamente" -ForegroundColor Green

# Mostrar lista de versiones
Write-Host "`n4ï¸âƒ£  LISTANDO VERSIONES INSTALADAS" -ForegroundColor Green
Write-Host "   ğŸ‘¤ Usuario ejecuta: gvm list" -ForegroundColor DarkGray

Write-Host "   Versiones de Go instaladas:" -ForegroundColor White
Write-Host "   * go1.21.0  (currently active)" -ForegroundColor Green
Write-Host "     go1.22.0" -ForegroundColor White

# Cambiar a Go 1.22.0
Write-Host "`n5ï¸âƒ£  CAMBIANDO A GO 1.22.0" -ForegroundColor Green
Write-Host "   ğŸ‘¤ Usuario ejecuta: gvm use 1.22.0" -ForegroundColor DarkGray

Write-Host "   ğŸ”„ Cambiando a Go 1.22.0..." -ForegroundColor Yellow
Start-Sleep -Milliseconds 500
Write-Host "   ğŸ¯ GOROOT = $versionsDir\1.22.0" -ForegroundColor Cyan
Write-Host "   ğŸ”— Actualizando PATH..." -ForegroundColor Cyan
Start-Sleep -Milliseconds 400

# Actualizar go.exe activo
Copy-Item "$versionsDir\1.22.0\go.exe" "$binDir\go.exe" -Force
Write-Host "   âœ… Ahora usando Go 1.22.0" -ForegroundColor Green

Write-Host "`n   ğŸ‘¤ Usuario verifica:" -ForegroundColor DarkGray
Write-Host "   $ go version" -ForegroundColor DarkGray
Write-Host "   go version go1.22.0 windows/amd64" -ForegroundColor Green

# Verificar cambio en lista
Write-Host "`n6ï¸âƒ£  VERIFICANDO CAMBIO" -ForegroundColor Green
Write-Host "   ğŸ‘¤ Usuario ejecuta: gvm list" -ForegroundColor DarkGray

Write-Host "   Versiones de Go instaladas:" -ForegroundColor White
Write-Host "     go1.21.0" -ForegroundColor White
Write-Host "   * go1.22.0  (currently active)" -ForegroundColor Green

# Cambiar de vuelta a 1.21.0
Write-Host "`n7ï¸âƒ£  VOLVIENDO A GO 1.21.0" -ForegroundColor Green
Write-Host "   ğŸ‘¤ Usuario ejecuta: gvm use 1.21.0" -ForegroundColor DarkGray

Write-Host "   ğŸ”„ Cambiando a Go 1.21.0..." -ForegroundColor Yellow
Start-Sleep -Milliseconds 400
Copy-Item "$versionsDir\1.21.0\go.exe" "$binDir\go.exe" -Force
Write-Host "   âœ… Ahora usando Go 1.21.0" -ForegroundColor Green

Write-Host "`n   ğŸ‘¤ Usuario verifica:" -ForegroundColor DarkGray
Write-Host "   $ go version" -ForegroundColor DarkGray
Write-Host "   go version go1.21.0 windows/amd64" -ForegroundColor Green

# DemostraciÃ³n de uso en proyectos
Write-Host "`n8ï¸âƒ£  EJEMPLO DE USO EN PROYECTOS" -ForegroundColor Green
Write-Host "   ğŸ’¼ Proyecto A (requiere Go 1.21.0):" -ForegroundColor Yellow
Write-Host "   $ cd proyecto-legacy" -ForegroundColor DarkGray
Write-Host "   $ gvm use 1.21.0" -ForegroundColor DarkGray
Write-Host "   $ go build" -ForegroundColor DarkGray
Write-Host "   âœ… Compilado con Go 1.21.0" -ForegroundColor Green

Write-Host "`n   ğŸ’¼ Proyecto B (requiere Go 1.22.0):" -ForegroundColor Yellow
Write-Host "   $ cd proyecto-moderno" -ForegroundColor DarkGray
Write-Host "   $ gvm use 1.22.0" -ForegroundColor DarkGray
Write-Host "   $ go build" -ForegroundColor DarkGray
Write-Host "   âœ… Compilado con Go 1.22.0" -ForegroundColor Green

# Resumen final
Write-Host "`n" + "=" * 80 -ForegroundColor DarkGray
Write-Host "ğŸ† DEMOSTRACIÃ“N COMPLETA - GESTIÃ“N DE MÃšLTIPLES VERSIONES" -ForegroundColor Yellow
Write-Host "=" * 80 -ForegroundColor DarkGray

Write-Host "`nâœ… FUNCIONALIDADES DEMOSTRADAS:" -ForegroundColor Green
Write-Host "   ğŸ”§ InstalaciÃ³n automÃ¡tica: gvm install <version>" -ForegroundColor White
Write-Host "   ğŸ”„ Cambio entre versiones: gvm use <version>" -ForegroundColor White
Write-Host "   ğŸ“‹ Lista de instaladas: gvm list" -ForegroundColor White
Write-Host "   ğŸ¯ GestiÃ³n de GOROOT y PATH automÃ¡tica" -ForegroundColor White
Write-Host "   ğŸ’¼ Soporte para mÃºltiples proyectos" -ForegroundColor White

Write-Host "`nğŸ¯ BENEFICIOS PARA DESARROLLADORES:" -ForegroundColor Green
Write-Host "   âš¡ Cambio instantÃ¡neo entre versiones" -ForegroundColor White
Write-Host "   ğŸš« Sin conflictos entre proyectos" -ForegroundColor White
Write-Host "   ğŸ”§ Sin configuraciÃ³n manual de variables" -ForegroundColor White
Write-Host "   ğŸ“¦ GestiÃ³n centralizada de versiones" -ForegroundColor White

Write-Host "`nğŸš€ INSTALACIÃ“N PARA USUARIOS:" -ForegroundColor Cyan
Write-Host "iwr -useb https://raw.githubusercontent.com/David-Coach-Dev/gvm/main/install-nvm-style.ps1 | iex" -ForegroundColor White

Write-Host "`nğŸ‰ Â¡GVM Windows - La soluciÃ³n completa para gestiÃ³n de versiones Go!" -ForegroundColor Green

# Limpiar archivos de demostraciÃ³n
Remove-Item $baseDir -Recurse -Force -ErrorAction SilentlyContinue
